<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>JLPT Data Manager</title>
    <!-- 기본 스타일 및 관리자 전용 스타일 로드 -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
<div class="container">
    <h1>🛠️ JLPT 데이터 관리자 (Netlify Fixed)</h1>
    <p>기본 내보내기 포맷은 JSON입니다. 표준 산출물은 <code>n4/day-03.json</code> 형태의 day 분할 파일입니다.</p>
    <p style="margin-top:8px; color:#666;">
        파일명 규칙: 다운로드 파일은 <code>{level}-day-{DD}.json</code> 형식으로 저장되며,
        저장소 반영 시 <code>data/dist/{level}/day-{n}.json</code> 경로로 배치하세요.
        레거시 <code>var N4_DATA</code> 방식은 "레거시 JS 내보내기"에서만 제공합니다.
    </p>

    <div class="control-panel">
        <label><strong>1. 작업할 레벨 선택:</strong></label>
        <select id="level-select">
            <option value="n5">N5 (기초 - 노랑)</option>
            <option value="n4">N4 (초급 - 초록)</option>
            <option value="n3">N3 (중급 - 파랑)</option>
            <option value="n2">N2 (중고급 - 주황)</option>
            <option value="n1">N1 (고급 - 빨강)</option>
        </select>
    </div>

    <h3>2. AI JSON 데이터 입력</h3>
    <textarea id="json-input" placeholder='{
    "day": 9, 
    "data": { 
        "title": "...", 
        "vocab": [...] 
    }
}'></textarea>

    <div style="margin-top:20px;">
        <button class="btn btn-preview" onclick="savePreview(false)">💾 덮어쓰기 저장</button>
        <button class="btn btn-merge" onclick="savePreview(true)">🔗 병합 저장 (Merge)</button>
        <button class="btn btn-download" onclick="downloadFile()">📥 표준 JSON 다운로드</button>
        <button class="btn" onclick="downloadLegacyJsFile()">🧩 레거시 JS 내보내기</button>
    </div>
    
    <div style="margin-top:20px; text-align:right;">
        <button onclick="clearPreview()" style="border:none; background:none; text-decoration:underline; cursor:pointer; color:#999;">임시 데이터 초기화</button>
    </div>
</div>

<!-- 분리된 JS 파일 로드 -->
<script src="js/admin-controller.js"></script>
</body>
</html>
